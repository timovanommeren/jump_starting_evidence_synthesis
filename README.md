# Jump Starting Evidence Synthesis

This repository contains the code to reproduce the results of the simulation study *Jump Starting Evidence Synthesis: Initializing Active Learning Models for Systematic Reviews using LLM-generated Data*

In short, the contents of this repository allow for:
1. A full replication of the simulation and analysis in Python and R respectively,
2. A replication of the analysis only in R,
3. To render the final research report in Latex.

Note that the results of the simulation study are provided on [OSF](https://osf.io/4ebmk/files/osfstorage).

## Replication of simulation study in Python

To be able to replicate the results of the simulation study, please follow the instructions below.

### Set-up

(1) Clone this repository.

(2) Download necessary files

Start by downloading the SYNERGY dataset from the following github page: [SYNERGY](https://github.com/asreview/synergy-dataset) and the inclusion criteria of all the synergy datasets from the OSF link provided above.

(3) Obtain an [OPENAI API key](https://openai.com/api/).

### Run the simulation study

The easiest way to replicate the simulation study, is by running the simulation within a virtual environment using the following steps.

Open a terminal and create a new virtual environment:
```
python -m venv .venv
```

Activate the virtual environment:
```
.venv/Scrips/activate
```

Install the required Python dependencies:
```
pip install -r requirements.txt
```

Add your OpenAI API:
```
cp env.example .env
# Edit .env and add your OpenAI API key:
# OPENAI_KEY=your_api_key_here
```

Once all the necessary files and python packages have been downloaded, run the following line in CLI in repository directory. 

```
python simulation_files\run.py 'path to synergy datasets' simulation_results\run_01 'path to inclusion criteria'
```

Please note that the resulting files may differ slightly from the results presented on OSF due to slightly different abstracts being generated by the large language models (LLMs). For 100% reproducibility the code would need to be slightly adjusted to accomodate the use of the abstracts and titles generated in the published simulation runs.  

## Replication of the statistical analysis in R

Start by downloading all the necessary R packages.

```r
renv::restore()  
```

The analysis can then be run by either opening Analysis/R/main_analysis.Rmd in Rstudio or by running the line below directly in CLI from the root directory.  

```
rmarkdown::render("Analysis/R/main_analysis.Rmd")
```

## Knitting the research report

After running the statistical analysis in R, it is possible to run the main.tex file to generate a pdf of the research report:
```
latexmk -pdf -shell-escape main.tex
```

